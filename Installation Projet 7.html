<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <title>Installation Projet 7</title>
</head>

<body>
    <div class="px-3 d-flex flex-column justify-content-center mx-auto bg-light py-5" style="width: 700px;">
        <h1 class="text-danger">Installation Projet 7</h1>
        <hr>
        <h2 class="mb-4">Pré-requis</h2>
        <p>NodeJs version 14.17.4</p>
        <p>MYSQL version 8.0.26</p>
        <p>Sequelize CLI [Node: 14.17.4, CLI: 6.2.0, ORM: 6.6.5]</p>
        <p>Nodemon version 2.0.12</p>
        <hr>
        <h3 class="mb-4 text-dark">La base de données</h3>
        <p>L'application nécessite une base de données Mysql.
            Vous devez avoir un utilisateur avec les droits pour la base de données que l'on va créer.
        </p>
        <p>Si vous n'avez pas d'utilisateur créé, vous pouvez en créer un de la façon suivante, en étant connecté en
            tant que root :
        </p>
        <span class="alert" style="background-color: rgb(42, 42, 42);color: chartreuse;">CREATE USER
            'votreUtilisateur'@'localhost' IDENTIFIED BY 'votreMotDePasse';</span>
        <p>Ensuite, nous allons créer la base de données qui servira au projet.</p>
        <span class="alert" style="background-color: rgb(42, 42, 42);color: chartreuse;">CREATE DATABASE
            groupomania_development;</span>
        <p>Donnons les droits à l'utilisateur à la base de données</p>
        <span class="alert" style="background-color: rgb(42, 42, 42);color: chartreuse;">GRANT ALL PRIVILEGES ON
            groupomania_development.* TO 'votreUtilisateur'@'localhost';</span>
        <p>On quitte la session root, on se connecte avec l'utilisateur</p>
        <span class="alert" style="background-color: rgb(42, 42, 42);color: chartreuse;">mysql -u votreUtilisateur
            -p</span>
        <p>On sélectionne la base de données à utiliser</p>
        <span class="alert" style="background-color: rgb(42, 42, 42);color: chartreuse;">USE
            groupomania_development;</span>
        <p>La base de données est prête.</p>
        <h3 class="mb-4">Le code du projet sur Github</h3>
        <p>Il faut le télécharger en vous rendant sur cette <a
                href="https://github.com/olive-webdev/OlivierBlachere_7_21082021" class="text-danger">page</a></p>
        <p>Veillez à avoir Sequelize CLI d'installé, sinon vous pouvez l'installer en global de la manière suivante :</p>
        <span class="alert" style="background-color: rgb(42, 42, 42);color: chartreuse;">npm install -g sequelize-cli</span>
        <p>Veillez à avoir nodemon d'installé, sinon vous pouvez l'installer en global de la manière suivante :</p>
        <span class="alert" style="background-color: rgb(42, 42, 42);color: chartreuse;">npm install -g nodemon</span>
        <p>Maintenant dans le dossier backend, il faut créer un fichier .env qui servira à stocker les données sensibles
            comme l'utilisateur de la base de données et son mot de passe et les variables tel que les ports</p>
        <span class="alert" style="background-color: rgb(42, 42, 42);color: chartreuse;">
            DB_USER=votreUtilisateur<br>
            DB_PASS=votreMotDePasse<br>
            TOKEN_PRIVATE_KEY=R5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTYzM<br>
            PORT=3000<br>
            SERVER=http://localhost:3000</span>
        <p>Toujours dans le dossier backend, exécutez les commandes suivants afin de faire une migration depuis
            Sequelize vers la base de données, et d'y ajouter des données nécessaires au bon fonctionnement de
            l'application. Et enfin d'installer les dépendances liés au projet et de lancer le serveur</p>
        <span class="alert" style="background-color: rgb(42, 42, 42);color: chartreuse;">
            cd backend<br>
            sequelize db:migrate<br>
            sequelize db:seed:all<br>
            npm install<br>
            nodemon serve</span>
        <p><i>Note: le serveur se lance sur le port 3000 par défault, vous pouvez toutefois le lancer sur un autre port
                en modifiant le fichier .env à la racine du dossier backend, et le fichier .env.development.local à la
                racine du dossier frontend (comme nous allons voir ci-après)
            </i></p>
        <p>Maintenant, dans le dossier frontend, créer un fichier .env.development.local</p>
        <span class="alert"
            style="background-color: rgb(42, 42, 42);color: chartreuse;">VUE_APP_SERVER=http://localhost:3000</span>
        <p>Nous pouvons maintenant installer les dépendances liées au projet et lancer le serveur</p>
        <span class="alert" style="background-color: rgb(42, 42, 42);color: chartreuse;">
            cd frontend<br>
            npm install<br>
            npm run serve</span>
        <p>Le serveur se lance sur le port 8080, rendez-vous sur votre navigateur à l'adresse <a
                href="http://localhost:8080" class="text-danger">suivante</a></p>
        <p>Vous pouvez vous connecter en tant qu'administrateur avec le login et mot de passe suivants</p>
        <span class="alert" style="background-color: rgb(42, 42, 42);color: chartreuse;">login :
            mentor@openclassrooms.fr<br>mot de passe : password1A</span>
        <p>Où vous pouvez créer un ou même plusieurs comptes utilisateur pour tester l'application<br>
            En espérant que vous ayez une bonne expérience, sinon n'hésiter pas à me <a
                href="mailto:olivier.blachere.dev@gmail.com" class="text-danger">contacter</a></p>
    </div>
</body>

</html>